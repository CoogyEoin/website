<html lang="en">
<head>
  <title>Eoin's Articles</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style2.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar-fixed-top navbar-default">
  <div class="container">
    <div class="collapse navbar-collapse container" id="myNavbar">
      <ul class="nav navbar-nav">
        <li><a href="https://eoincoogan.com">Home</a></li>
	<li class="active"><a href="https://articles.eoincoogan.com">My Articles</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Page Header -->
<header class="masthead" style="background-image: url('images/cloud1.jpeg')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="post-heading">
          <h1>Create a Private Cloud (Email, File Storage, Website and Password Manager)</h1>
          <h3 class="subheading">Host your own services instead of being reliant on giant tech companies</h3>
          <span class="meta">December 1st, 2020</span>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
<h1 id="Create%20a%20Private%20Cloud%20(Email,%20File%20Storage,%20Website%20and%20Password%20Manager)">Create a Private Cloud (Email, File Storage, Website and Password Manager)</h1>

<p><a href="https://youtu.be/xebRvQdF4uo">Video explaining the details further</a></p>

<p>These days people are becoming more and more reliant on online services. The technology that was created to allow us to communicate with each other and share memories has, in many ways, made us more distant and less able to modify&#47;change the tools we use. 
It also comes at the price of giving up our data to large corporations to the <a href="https://articles.eoincoogan.com/social">point where they often know more about us than we know about ourselves.</a></p>

<p>Instead of using Gmail, dropbox, or any of the other supposed free services, you can host free open-source services that are privacy-respecting and developed by everyday developers like you or me. 
For all the services I’ve set up, I created an automation script so you won’t have to do much. In this article, I’m going to show you how you can set up:</p>

<ul>
<li><p>An Email server with Aliases and forwarding</p></li>
<li><p>File Storage with a built in calendar tool</p></li>
<li><p>Your own personal website or portfolio</p></li>
<li><p>A password manager to keep track of your passwords</p></li>
</ul>

<h2 id="The%20Services">The Services</h2>

<p>The email server itself uses postfix&#47;dovecot for sending and receiving mail. Spamassasin is used to get rid of spam, and OpenDKIM is used so we can send emails to Gmail&#47;yahoo. The data is stored in mariaDB in the backend. I set up 3 basic aliases called social, purchasing, and professional. 
Aliases are kind of like temporary&#47;fake addresses. When I sign up to buy something, I give <strong>purchasing@mydomain.com</strong> as an email address, and all the mail is forwarded to my primary address. If it ever gets too spammy&#47;cluttered, I can simply delete the alias and start again.</p>

<p>The file storage service I use is called Nextcloud. It’s very similar to google drive and has a nice clean PHP frontend. There’s also an option to add a calendar if you want a service similar to google calendar.</p>

<p>I used a password manager service called keypass. It’s incredibly simple to use as it is a DB file that holds all your passwords and can be stored anywhere. It literally takes 5 minutes to set up. I suggest you check out my video above where I explain it a bit further.</p>

<h2 id="Things%20You%E2%80%99ll%20Need">Things You’ll Need</h2>

<p>Before this article you’ll need to buy a virtual private server&#47; cloud instance (or set up a server of your own at home if you have decent bandwidth). If you’re planning on adding many other services I’d recommend a VPS but with the services in this article I don’t think I’ve used much more than 0.7 G of RAM and 10GB of storage. 
So far I’ve only tested my scripts on Ubuntu so make sure your serve is running Ubuntu 18 or 20. Note: Don’t use an Amazon EC2 instance or the Microsoft equivalent they tend to block the ports needed for Email servers. Also we’re trying to not rely on giant tech companies remember? ;)
You’ll also need a domain name and you’ll need to set the domain&#47;subdomains to the IP address of your server. For the email you’ll need to also create an MX record. There are plenty of tutorials on how to do this out there. My records look something like this:</p>

<pre><code>#My main portfolio
@               IN      A       &#60;IP ADDRESS&#62;
www             IN      CNAME   @
#My Nextcloud&#47;File Storage instance
nextcloud       IN      A       &#60;IP ADDRESS&#62;
#Mail MX record
                IN      MX 10  &#60;My domain&#62;.
</code></pre>

<h2 id="Setting%20Up%20The%20Services">Setting Up The Services</h2>

<p>I could go through the process of giving you step-by-step tasks for each service but I’ve gone through the process of creating automation scripts that will do this for you. You can check out the scripts <a href="https://github.com/CoogyEoin/SaorTech-cloud-services">in my github lined here.</a></p>

<p>Simply run the following command on your serve to start off:</p>

<pre><code>git clone https:&#47;&#47;github.com&#47;CoogyEoin&#47;SaorTech-cloud-services.git 
</code></pre>

<p>There are 3 main scripts for email, nextcloud and your personal website. When running these commands certain flags are used to specify your domain, password, the email to forward to&#47;used to register certificates and other things. Run the following commands as Sudo on your server <strong>but make sure you replace the values with your own.</strong>
The email (-e) flag is just an email address it will forward mail to.</p>

<pre><code>.&#47;install_mail_server.sh -e myemail@protonmail.com -d mydomain.com -p asecurepassword -u mycurrentuser -f mail.mydomain.com
</code></pre>

<p>The email (-e) flag is just used to register an SSL certificate</p>

<pre><code>.&#47;install_nextcloud.sh -e myemail@protonmail.com -d nextcloud.mydomain.com -p asecurepassword
</code></pre>

<p>Use whatever domain or subdomain you want&#47;setup. I wanted my portfolio to just be the base domain name</p>

<pre><code>.&#47;setup_website -d mydomain.com
</code></pre>

<p>And that’s it. When you first visit your nextcloud instance remember to set the username and password to whatever you want your admin account to be, the directory to <strong>&#47;nextcloud-data</strong> , the user to <strong>nextcloud</strong> and the password with whatever you used as the flag when running the command.</p>

<p>The portfolio itself is…shall we say barren for the moment. Now’s your chance to brush up on your html&#47;css skills. The directory containing the html is at &#47;var&#47;www&#47;&#60;mydomain.com&#62; . The basic template that will appear at your domain when searched is shown below:</p>

<center><p><img src="images/cloud2.png" alt="Basic HTML" title="Behold your magnificant creation" /></p></center>

<p>If you have any issues with these scripts you can check out my video above where I explain them a bit further. If there is any issues with the scripts please let me know either here or on Github.</p>

<p>Stay happy and stay private.</p>

      </div>
    </div>
  </div>
</article>

<!-- Footer -->
 <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
    	    <a href="https://www.youtube.com/channel/UCehh50T6qtDpt_kEUF33GJw"><i class="fa fa-youtube" style="font-size:40px;"></i></a>
            <a href="https://github.com/CoogyEoin"><i class="fa fa-github" style="font-size:40px;"></i></a>
            <a href="https://twitter.com/smugairle_eoin"><i class="fa fa-twitter" style="font-size:40px;"></i></a>
          <p>Made by Eoin Coogan @2019</p>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>
